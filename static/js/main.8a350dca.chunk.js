(this["webpackJsonpsocial-media"]=this["webpackJsonpsocial-media"]||[]).push([[0],{10:function(e,t,s){e.exports={container:"Profile_container__3yCA5",user:"Profile_user__V98W6",userTitle:"Profile_userTitle__2PCAX",userBio:"Profile_userBio__1qg-Y",userPhoto:"Profile_userPhoto__OBUPy",userName:"Profile_userName__3nyTB",stats:"Profile_stats__1P_Fv",statItem:"Profile_statItem__249-M",thumbnail:"Profile_thumbnail__1kJO-",followBtn:"Profile_followBtn__1TJRg",unfollowBtn:"Profile_unfollowBtn__2h_4t"}},11:function(e,t,s){e.exports={post:"Post_post__1f5Ue",user:"Post_user__3Fuvd",like:"Post_like__1Whsg",comments:"Post_comments__3AVFq",timespan:"Post_timespan__1AcWR",userName:"Post_userName__2vi0_",userPhoto:"Post_userPhoto__pLV-c",postPhoto:"Post_postPhoto__3MpLD",addComment:"Post_addComment__vMX39"}},13:function(e,t,s){e.exports={photo:"NewPost_photo__2TxAx",dropArea:"NewPost_dropArea__1JfvG",dragging:"NewPost_dragging__Laegi",message:"NewPost_message__32Uyq",image:"NewPost_image__1FMyO",desc:"NewPost_desc__1TuWU",actions:"NewPost_actions__1n3_u",error:"NewPost_error__1nPEn"}},16:function(e,t,s){e.exports={header:"Header_header__3jAbp",headerItem:"Header_headerItem__33Rso"}},22:function(e,t,s){e.exports={square:"PostThumbnail_square__IHZki",content:"PostThumbnail_content__1Ki1z",image:"PostThumbnail_image__2aRvr"}},23:function(e,t,s){e.exports={bold:"FancyFont_bold__MMhfQ",lightBold:"FancyFont_lightBold__--AsV",semiBold:"FancyFont_semiBold__2lmo2"}},26:function(e,t,s){e.exports={container:"App_container__1pnDD",content:"App_content__3rpHt"}},30:function(e,t,s){},32:function(e,t,s){e.exports={navbar:"Navbar_navbar__2D0PJ"}},43:function(e,t,s){e.exports={post:"Home_post__1BEFB"}},47:function(e,t,s){"use strict";s.r(t);var n=s(18),o=s(19),r=s(12),a=s(21),i=s(20),c=s(1),l=s.n(c),d=s(25),u=s.n(d),j=(s(30),s(8)),h=s(5),m=s(26),p=s.n(m),b=s(16),f=s.n(b),g=function(e){return(e.startsWith("data:image")?"":"/Social-Media")+e},O=s(0),v=function(){return Object(O.jsxs)("div",{className:f.a.header,children:[Object(O.jsx)("div",{className:f.a.headerItem,children:Object(O.jsx)("button",{children:Object(O.jsx)("img",{src:g("/assets/camera.svg"),alt:"camera"})})}),Object(O.jsx)("div",{className:f.a.headerItem,children:Object(O.jsx)("img",{src:g("/assets/logo.png"),alt:"logo"})}),Object(O.jsx)("div",{className:f.a.headerItem,children:Object(O.jsx)("button",{children:Object(O.jsx)("img",{src:g("/assets/message.svg"),alt:"message"})})})]})};var x=s(32),_=s.n(x),I=s(4),w=function(e){return Object(O.jsxs)("nav",{className:_.a.navbar,children:[Object(O.jsx)(I.b,{to:"/",children:Object(O.jsx)("img",{src:g("/assets/home.svg"),alt:"Home"})}),Object(O.jsx)(I.b,{to:"/explore",children:Object(O.jsx)("img",{src:g("/assets/explore.svg"),alt:"Explore"})}),Object(O.jsx)(I.b,{to:"/new-post",children:Object(O.jsx)("img",{src:g("/assets/newpost.svg"),alt:"New Post"})}),Object(O.jsx)(I.b,{to:"/activity",children:Object(O.jsx)("img",{src:g("/assets/activity.svg"),alt:"Activity"})}),Object(O.jsx)(I.b,{to:"/profile",children:Object(O.jsx)("img",{src:g("/assets/profile.svg"),alt:"Profile"})})]})};s(43);var D=s(11),k=s.n(D),y=function(e){var t=Math.floor((new Date-new Date(e))/1e3),s=Math.floor(t/31556926);return s>=1?s+" year"+N(s):(s=Math.floor(t/2592e3))>=1?s+" month"+N(s):(s=Math.floor(t/86400))>=1?s+" day"+N(s):(s=Math.floor(t/3600))>=1?s+" hour"+N(s):(s=Math.floor(t/60))>=1?s+" minute"+N(s):Math.floor(t)+" second"+N(t)};function N(e){return e>=2?"s":""}var P=s(22),T=s.n(P);var B=function(e){return Object(O.jsx)("div",{className:T.a.square,children:Object(O.jsx)("div",{className:T.a.content,children:Object(O.jsx)("img",{className:T.a.image,src:g(e.src),alt:e.alt})})})},S=function(e){var t=Object(c.useState)(!1),s=Object(h.a)(t,2),n=s[0],o=s[1],r=Object(c.useState)(""),a=Object(h.a)(r,2),i=a[0],l=a[1];return Object(O.jsxs)("div",{className:k.a.post,children:[Object(O.jsxs)("div",{className:k.a.user,children:[Object(O.jsx)("img",{className:k.a.userPhoto,src:g(e.user.photo),alt:e.user.id}),Object(O.jsx)(I.b,{to:"/profile/"+e.user.id,className:k.a.userName,children:Object(O.jsx)("strong",{children:e.user.id})})]}),Object(O.jsx)("div",{className:k.a.postPhoto,children:Object(O.jsx)(B,{src:e.post.photo,alt:"Photo"})}),Object(O.jsxs)("div",{className:k.a.like,children:[Object(O.jsx)("button",{children:Object(O.jsx)("img",{src:e.likes.self?g("/assets/unlike.svg"):g("/assets/like.svg"),onClick:function(){return t=e.likes.self,s=e.post.id,t?e.onUnlike(s):e.onLike(s);var t,s}})}),Object(O.jsx)("button",{children:Object(O.jsx)("img",{src:g("/assets/comment.svg"),onClick:function(){o(!n)}})}),Object(O.jsx)("strong",{children:"".concat(e.likes.count," like").concat(e.likes.count>=2?"s":"")})]}),Object(O.jsx)("div",{className:k.a.comments,children:Object(O.jsxs)("ul",{children:[""!=e.post.desc&&Object(O.jsxs)("li",{children:[Object(O.jsxs)(I.b,{to:"/profile/"+e.post.userId,children:[Object(O.jsx)("strong",{children:e.post.userId})," "]}),e.post.desc]}),e.comments.map((function(e,t){return Object(O.jsxs)("li",{children:[Object(O.jsx)(I.b,{to:"/profile/"+e.userId,children:Object(O.jsx)("strong",{children:e.userId})}),e.text]},t)}))]})}),Object(O.jsxs)("div",{className:k.a.timespan,children:[y(e.post.datetime)," ago"]}),n&&Object(O.jsxs)("form",{className:k.a.addComment,children:[Object(O.jsx)("textarea",{maxLength:"300",value:i,rows:"1",placeholder:"Add a new comment...",onChange:function(e){l(e.target.value),function(e){var t=window.getComputedStyle(e);e.style.height=0;var s="normal"===t.lineHeight?parseInt(t.fontSize):parseInt(t.lineHeight),n=e.scrollHeight,o=Math.round(Math.max(1,n/s));e.style.height=o*s*(56/48)+"px"}(e.target)}}),Object(O.jsx)("button",{type:"submit",onClick:function(t){0==i.trim().length||(e.onComment(e.post.id,i),o(!1),l("")),t.preventDefault()},children:"Post"})]})]})};var C=s(2),F=function(e){var t=e.store,s=Object(C.g)().postId;return Object(O.jsx)("div",{children:t.posts.filter((function(e){return!s||e.id===s})).sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})).map((function(s){return Object(O.jsx)(S,{user:U(t.users,s),likes:L(t.likes,s,t.currentUserId),post:s,comments:M(t.comments,s),onLike:e.onLike,onUnlike:e.onUnlike,onComment:e.onComment},s.id)}))})};function U(e,t){return e.find((function(e){return e.id===t.userId}))}function L(e,t,s){var n=e.filter((function(e){return e.postId===t.id}));return{self:n.some((function(e){return e.userId===s})),count:n.length}}function M(e,t){return e.filter((function(e){return e.postId===t.id})).sort((function(e,t){return new Date(e.datetime)-new Date(t.datetime)}))}var Z=function(){return Object(O.jsx)("strong",{children:"Explore"})},A=s(13),E=s.n(A);var H=function(e){var t=(new Date).valueOf().toString(36);return function(e){for(var t=(new Date).getTime(),s=0;s<1e7&&!((new Date).getTime()-t>e);s++);}(1),e?e+t:t},J=function(e){Object(a.a)(s,e);var t=Object(i.a)(s);function s(e){var o;return Object(n.a)(this,s),(o=t.call(this,e)).handleDragEnter=o.handleDragEnter.bind(Object(r.a)(o)),o.handleDrop=o.handleDrop.bind(Object(r.a)(o)),o.handleDragOver=o.handleDragOver.bind(Object(r.a)(o)),o.handleDragLeave=o.handleDragLeave.bind(Object(r.a)(o)),o}return Object(o.a)(s,[{key:"handleDrop",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onDrop&&this.props.onDrop(e)}},{key:"handleDragEnter",value:function(e){e.preventDefault(),e.stopPropagation(),this.dragTargetSaved=e.target,this.props.onDragEnter&&this.props.onDragEnter(e)}},{key:"handleDragOver",value:function(e){!1!==e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),this.props.onDragOver&&this.props.onDragOver(e))}},{key:"handleDragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onDragLeave&&this.dragTargetSaved===e.target&&this.props.onDragLeave(e)}},{key:"render",value:function(){var e=l.a.Children.only(this.props.children);return l.a.cloneElement(e,{onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop})}}]),s}(c.PureComponent),W=function(e){var t=Object(c.useState)(!1),s=Object(h.a)(t,2),n=s[0],o=s[1],r=Object(c.useState)(""),a=Object(h.a)(r,2),i=a[0],l=a[1],d=Object(c.useState)(null),u=Object(h.a)(d,2),j=u[0],m=u[1],p=Object(c.useState)(""),b=Object(h.a)(p,2),f=b[0],g=b[1],v=Object(C.f)();return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:E.a.photo,children:[j?Object(O.jsx)("img",{src:j,alt:"New Post"}):Object(O.jsx)("div",{className:E.a.message,children:"Drop your image"}),Object(O.jsx)(J,{onDragEnter:function(e){o(!0)},onDragLeave:function(e){o(!1)},onDrop:function(e){if(!1===e.dataTransfer.types.includes("Files"));else if(e.dataTransfer.files.length>=1){var t=e.dataTransfer.files[0];if(t.size>1e6);else if(t.type.match(/image.*/)){var s=new FileReader;s.onloadend=function(e){m(e.target.result)},s.readAsDataURL(t)}}o(!1)},children:Object(O.jsx)("div",{className:[E.a.dropArea,n?E.a.dragging:null].join(" ")})})]}),Object(O.jsx)("div",{className:E.a.desc,children:Object(O.jsx)("textarea",{value:i,onChange:function(e){l(e.target.value)},rows:3})}),Object(O.jsx)("div",{className:E.a.error,children:""!==f&&f}),Object(O.jsxs)("div",{className:E.a.actions,children:[Object(O.jsx)("button",{onClick:function(){m(null),l(""),g(""),v.goBack()},children:"Cancel"}),Object(O.jsx)("button",{onClick:function(t){t.preventDefault(),null!==j?(e.onSubmit(j,i),g(""),v.push("/")):g("No image detected...")},children:"Share"})]})]})};var q=function(){return Object(O.jsx)("strong",{children:"Acitivity"})},R=s(10),V=s.n(R),z=s(23),X=s.n(z);function G(e){return Object(O.jsx)("span",{className:"\n            ".concat(K(e.style)," ").concat(e.className,"\n        "),children:e.children})}function K(e){switch(e){case"bold":return X.a.bold;case"lightBold":return X.a.lightBold;case"semiBold":return X.a.semiBold;default:return null}}var Q=function(e){var t=Object(C.g)().userId;t=t||e.store.currentUserId;var s=(d=e.store,d.users.find((function(e){return e.id===t}))),n=function(e){return e.posts.filter((function(e){return e.userId===t}))}(e.store),o=function(e){return{followers:e.followers.filter((function(e){return e.userId===t})).map((function(e){return e.followerId})),followings:e.followers.filter((function(e){return e.followerId===t})).map((function(e){return e.userId}))}}(e.store),r=Object(c.useState)(e.store.followers.some((function(s){return s.userId===t&&s.followerId===e.store.currentUserId}))),a=Object(h.a)(r,2),i=a[0],l=a[1];var d;var u=[{name:"post",value:n.length},{name:"follower",value:o.followers.length},{name:"following",value:o.followings.length}];0;return Object(O.jsxs)("div",{className:V.a.container,children:[Object(O.jsxs)("div",{className:V.a.user,children:[Object(O.jsxs)("div",{className:V.a.userTitle,children:[Object(O.jsx)("img",{className:V.a.userPhoto,src:g(s.photo),alt:"photo"}),Object(O.jsxs)("div",{children:[Object(O.jsx)(G,{className:V.a.userName,style:"lightBold",children:s.id}),Object(C.g)().userId&&Object(O.jsx)("button",{onClick:function(){i?e.onUnfollow(t):e.onFollow(t),l(!i)},className:i?V.a.unfollowBtn:V.a.followBtn,children:i?"Unfollow":"Follow"})]})]}),Object(O.jsxs)("div",{className:V.a.userBio,children:[Object(O.jsx)(G,{style:"semiBold",children:s.name})," ",Object(O.jsx)("br",{}),Object(O.jsx)(G,{style:"lightBold",children:s.bio})]})]}),Object(O.jsx)("div",{className:V.a.stats,children:u.map((function(e){return Object(O.jsxs)("div",{className:V.a.statItem,children:[Object(O.jsx)("span",{children:e.value})," ",Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:e.name+(e.value>1?"s":"")})]},e.name)}))}),Object(O.jsx)("div",{className:V.a.thumbnail,children:n.map((function(e){return Object(O.jsx)(I.b,{to:"/"+e.id,children:Object(O.jsx)(B,{src:e.photo,alt:e.id})},e.id)}))})]})};var Y={currentUserId:"judy",users:[{id:"judy",email:"judy@bc.edu",photo:"/assets/user1.png",name:"Judy Hopps",bio:"The first rabbit officer of the Zootopia Police Department. Judy is determined to make the world a better place while breaking preconceptions about other species."},{id:"nick",email:"nick@bc.edu",photo:"/assets/user2.png",name:"Nick Wilde",bio:"Nick is a charming, small-time, con artist fox with a big mouth and a lot of opinions. But when a rabbit cop outsmarts him, he finds himself actually helping her solve a mystery."},{id:"flash",email:"flash@bc.edu",photo:"/assets/user3.png",name:"Flash Slothmore",bio:"Flash is a male three-toed sloth and a supporting character in Zootopia. He works at the Department of Mammal Vehicles."}],followers:[{userId:"nick",followerId:"judy"},{userId:"judy",followerId:"nick"},{userId:"judy",followerId:"flash"}],posts:[{id:"post-1",userId:"judy",photo:"/assets/post1.png",desc:"#zootopia #excited",datetime:"2020-02-09T22:45:28Z"},{id:"post-2",userId:"nick",photo:"/assets/post2.png",desc:"#happy #selfie with Judy",datetime:"2020-02-06T22:45:28Z"},{id:"post-3",userId:"flash",photo:"/assets/post3.png",desc:"Don't worry I got this",datetime:"2020-02-03T22:45:28Z"},{id:"post-4",userId:"judy",photo:"/assets/post4.png",desc:"Just trying to make a #friend",datetime:"2020-02-06T22:45:28Z"},{id:"post-5",userId:"judy",photo:"/assets/post5.png",desc:"I am now the first rabbit officer!",datetime:"2020-02-06T22:45:28Z"},{id:"post-6",userId:"judy",photo:"/assets/post6.png",desc:"Having #goodtimes with folks here",datetime:"2020-02-06T22:45:28Z"}],comments:[{userId:"nick",postId:"post-1",text:"Welcome to Zootopia!",datetime:"2020-02-09T22:51:40Z"},{userId:"judy",postId:"post-1",text:"Thanks!\ud83d\ude01Looking forward to meeting you!",datetime:"2020-02-09T22:52:01Z"},{userId:"flash",postId:"post-2",text:"Looking good you two! \ud83d\udc30\ud83e\udd8a",datetime:"2020-02-09T22:54:20Z"}],likes:[{userId:"judy",postId:"post-1",datetime:"2020-02-09T22:50:40Z"},{userId:"nick",postId:"post-2",datetime:"2020-02-09T22:51:40Z"},{userId:"flash",postId:"post-2",datetime:"2020-02-09T22:54:20Z"},{userId:"judy",postId:"post-3",datetime:"2020-02-09T22:53:40Z"}]};var $=function(e){var t=Object(c.useState)("home"),s=Object(h.a)(t,2),n=(s[0],s[1]),o=Object(c.useState)(Y),r=Object(h.a)(o,2),a=r[0],i=r[1];function l(e){var t={userId:a.currentUserId,postId:e,datetime:(new Date).toISOString()};i(Object(j.a)(Object(j.a)({},a),{},{likes:a.likes.concat(t)}))}function d(e){var t=a.likes.filter((function(t){return!(t.userId===a.currentUserId&&t.postId===e)}));i(Object(j.a)(Object(j.a)({},a),{},{likes:t}))}function u(e,t){var s={userId:a.currentUserId,postId:e,text:t,datetime:(new Date).toISOString()};i(Object(j.a)(Object(j.a)({},a),{},{comments:a.comments.concat(s)}))}function m(e,t){var s={id:H("post-"),userId:a.currentUserId,photo:e,desc:t,datetime:(new Date).toISOString()};i(Object(j.a)(Object(j.a)({},a),{},{posts:a.posts.concat(s)}))}return Object(O.jsx)(I.a,{basename:"/Social-Media",children:Object(O.jsxs)("div",{className:p.a.container,children:[Object(O.jsx)(v,{}),Object(O.jsx)("div",{className:p.a.content,children:Object(O.jsxs)(C.c,{children:[Object(O.jsx)(C.a,{path:"/explore",children:Object(O.jsx)(Z,{})}),Object(O.jsx)(C.a,{path:"/new-post",children:Object(O.jsx)(W,{onSubmit:m})}),Object(O.jsx)(C.a,{path:"/activity",children:Object(O.jsx)(q,{})}),Object(O.jsx)(C.a,{path:"/profile/:userId?",children:Object(O.jsx)(Q,{store:a,onFollow:function(e){var t={userId:e,followerId:a.currentUserId};i(Object(j.a)(Object(j.a)({},a),{},{followers:a.followers.concat(t)}))},onUnfollow:function(e){var t=a.followers.filter((function(t){return!(t.userId===e&&t.followerId===a.currentUserId)}));i(Object(j.a)(Object(j.a)({},a),{},{followers:t}))}})}),Object(O.jsx)(C.a,{path:"/:postId?",children:Object(O.jsx)(F,{store:a,onLike:l,onUnlike:d,onComment:u})})]})}),Object(O.jsx)(w,{onNavChange:n})]})})},ee=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,48)).then((function(t){var s=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;s(e),n(e),o(e),r(e),a(e)}))};s(44),l.a.Component;function te(e){return e.func(),null}u.a.render(Object(O.jsx)(l.a.StrictMode,{children:Object(O.jsx)($,{})}),document.getElementById("root")),ee()}},[[47,1,2]]]);
//# sourceMappingURL=main.8a350dca.chunk.js.map